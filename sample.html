<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Github Report Card</title>
    <style>
      body {
        margin: 0;
        padding: 0;
        border: 0;
      }
    </style>
    <script src="http://code.jquery.com/jquery-2.0.3.min.js"></script> <!-- switch to cdn *** -->
</head>
<body>
  
<!-- START φ(￣ー￣ )ノ -->
<script>
$( document ).ready(function() {

  var username = 'pketh'; // CHANGE THIS to your github name
    
  var profileURL = "https://github.com/" + username;
  $('.gh-username').html("<a href='" + profileURL + "'>" + username + "</a>");

  var gistsURL = "https://gist.github.com/" + username;
  var reposURL = "https://github.com/" + username +"?tab=repositories";

  var userPath = "https://api.github.com/users/" + username;
  var reposPath = "https://api.github.com/users/" + username + "/repos";
  
  var languages = [];
  
  // get user profile json
  $.getJSON(userPath, function(userResult){
    
    // avatar pic 
    avatar = userResult.avatar_url;
    $('.gh-avatar').html("<a href=" + profileURL + "><img src='" + avatar + "'></a>");

    // get last activity month
    var ghMonth = parseInt(userResult.updated_at.substring(5,7));
    // get current month
    var d = new Date;
    var currentMonth = d.getMonth() + 1;

    // has it been a month or less since you're last activity?
    if (ghMonth === currentMonth || ghMonth + 1 === currentMonth || ghMonth === 13 && currentMonth === 01) {
      console.log("＼(＾▽＾*)");
      $('.gh-recently-active').removeClass('gh-hidden');
    };

    var reposNum = userResult.public_repos;
    $('.gh-repos').html("<a href='" + reposURL + "'>" + reposNum + " Repositories</a>")
    var gistsNum = userResult.public_gists;
    $('.gh-gists').html("<a href='" + gistsURL + "'>" + gistsNum + " Gists</a>")    
  });
     
  // get languages for all repos from github
  $.getJSON(reposPath, function(reposResult){
    reposResult.forEach (function(obj){
      if(obj.language && obj.language !== 'undefined') {
        languages.push(obj.language)
      }
    });
    var languagesSorted = languages.byCount();
    languagesOutput = languagesSorted[0] + " , " + languagesSorted[1] + " , " + languagesSorted[2];
    $('.gh-languages').html(languagesOutput)    
  });
    
  // returns most frequent to least frequent
  Array.prototype.byCount= function(){
    var itm, a= [], L= this.length, o= {};
    for(var i= 0; i<L; i++){
      itm= this[i];
      if(!itm) continue;
      if(o[itm]== undefined) o[itm]= 1;
      else ++o[itm];
    }
    for(var p in o) a[a.length]= p;
    return a.sort(function(a, b){
      return o[b]-o[a];
    });
  }
  
});
</script>

<style>

  .gh { /* local reset */
    margin: 0;
    padding: 0;
    border: 0;
    font-size: 100%;
    font: inherit;
    vertical-align: baseline;
    line-height: 1; 
  }
  .gh a, .gh a:visited {
    text-decoration: none;
    color: #4484C2;
  }
  .gh a:hover {
    text-decoration: underline;
  }
  .gh-report-card {
    position: relative;
    border: 1px solid #D8D8D8;
    border-radius: 3px;
    width: 153px;
    font-family: Helvetica, arial, freesans, clean, sans-serif;
  }
  .gh-header {
    background-color: #FAFAFB;
    border-bottom: 1px solid #E5E5E5;
    border-top-left-radius: 6px;
    border-top-right-radius: 6px;
    padding-top: 6px;
    padding-left: 11px;
    padding-right: 11px;  
    padding-bottom: 12px
  }
  
  .gh-octocat {
    display: inline-block;
    margin-bottom: 8px;
  }  
  
  .gh-title {
    font-weight: bold;
    font-size: 11px;
    color: #767676;
    vertical-align: 65%;
    padding-left: 2px
  }
  
  .gh-avatar img {
    width: 30px;
    height: 30px;
    float: left;
    border-radius: 3px;
  }
  .gh-username {
    font-size: 13px;
    font-weight: bold;
    padding-left: 37px;
    padding-top: 1px;
    margin-bottom: 4px;
  }
  .gh-hidden {
    display: none;
  } 
  .gh-recently-active {
    font-size: 11px;
    color: #999999;
    padding-left: 37px;
  }  
  .gh-greenbox {
    width: 10px;
    height: 10px;
    background-color: #44A340;
    border-radius: 1px;
    display: inline-block;
    vertical-align: middle;
  }
  .gh-recent-txt {
    vertical-align: middle;
    padding-left: 1px
  }
  .gh-contents {
    clear: both;
    font-size: 13px;
    border-bottom: 1px solid #E5E5E5;
    padding-top: 9px;
    padding-left: 11px;
    padding-right: 11px;
    padding-bottom: 9px;
  } 
  .gh-repos {
    margin-bottom: 15px;
  }
  .gh-languages {
    font-size: 12px;
    color: #999999;
    line-height: 16px;
    padding-top: 9px;
    padding-left: 11px;
    padding-right: 11px;
    padding-bottom: 12px
  }

</style>

<div class="gh gh-report-card">
  <div class="gh gh-header">
  
    <div class="gh gh-octocat">      
      <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
         width="21.292px" height="22px" viewBox="0 0 21.292 22" style="enable-background:new 0 0 21.292 22;" xml:space="preserve">
      <g>
        <defs>
          <ellipse id="SVGID_1_" cx="10.713" cy="11" rx="10.421" ry="11"/>
        </defs>
        <clipPath id="SVGID_2_">
          <use xlink:href="#SVGID_1_"  style="overflow:visible;"/>
        </clipPath>
        <g style="clip-path:url(#SVGID_2_);">
          <defs>
            <rect id="SVGID_3_" x="0.292" width="21" height="22"/>
          </defs>
          <clipPath id="SVGID_4_">
            <use xlink:href="#SVGID_3_"  style="overflow:visible;"/>
          </clipPath>
      
            <rect x="-4.708" y="-5" style="clip-path:url(#SVGID_4_);fill-rule:evenodd;clip-rule:evenodd;fill:#FAFAFB;" width="30.842" height="32"/>
        </g>
      </g>
      <g>
        <defs>
          <path id="SVGID_5_" d="M10.712,0C4.958,0,0.292,4.784,0.292,10.685c0,4.72,2.986,8.725,7.127,10.138
            c0.521,0.098,0.711-0.232,0.711-0.515c0-0.254-0.009-0.926-0.014-1.817c-2.899,0.645-3.51-1.433-3.51-1.433
            c-0.474-1.234-1.157-1.563-1.157-1.563c-0.946-0.663,0.072-0.649,0.072-0.649c1.046,0.075,1.596,1.101,1.596,1.101
            c0.93,1.633,2.439,1.161,3.033,0.888c0.095-0.691,0.364-1.161,0.661-1.429c-2.314-0.27-4.747-1.186-4.747-5.28
            c0-1.167,0.406-2.121,1.073-2.868C5.03,6.988,4.672,5.902,5.239,4.432c0,0,0.875-0.288,2.865,1.095
            c0.832-0.237,1.723-0.356,2.609-0.359c0.885,0.004,1.777,0.123,2.61,0.359c1.989-1.383,2.863-1.095,2.863-1.095
            c0.568,1.471,0.21,2.557,0.104,2.827c0.668,0.747,1.071,1.701,1.071,2.868c0,4.104-2.436,5.008-4.758,5.273
            c0.374,0.33,0.707,0.982,0.707,1.978c0,1.429-0.012,2.581-0.012,2.931c0,0.286,0.187,0.618,0.717,0.514
            c4.137-1.416,7.12-5.417,7.12-10.137C21.134,4.784,16.468,0,10.712,0"/>
        </defs>
        <clipPath id="SVGID_6_">
          <use xlink:href="#SVGID_5_"  style="overflow:visible;"/>
        </clipPath>
        <g style="clip-path:url(#SVGID_6_);">
          <defs>
            <rect id="SVGID_7_" x="0.292" width="21" height="22"/>
          </defs>
          <clipPath id="SVGID_8_">
            <use xlink:href="#SVGID_7_"  style="overflow:visible;"/>
          </clipPath>
      
            <rect x="-4.708" y="-5" style="clip-path:url(#SVGID_8_);fill-rule:evenodd;clip-rule:evenodd;fill:#767676;" width="30.842" height="30.842"/>
        </g>
      </g>
      </svg>
      </div>

    <span class="gh-title">Github Report</span>
    
    <div class="gh gh-avatar"></div>
    <div class="gh gh-username"></div>    
    <div class="gh gh-recently-active gh-hidden">
      <span class="gh gh-greenbox"></span>
      <span class="gh gh-recent-txt">Recently Active</span>
    </div>
  </div>
    
  <div class="gh gh-contents">
    <p class="gh gh-repos"></p>
    <p class="gh gh-gists"></p>
  </div>
  
  <div class="gh gh-languages"></div>
  

</div>

<!-- END -->

</body>
</html>












































